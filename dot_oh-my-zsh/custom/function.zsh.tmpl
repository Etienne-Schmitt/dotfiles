# Usage stan <level 0-9> <things to scan>
stan() {
  if [ -z "$1" ] || \
     ! [ "$1" -eq "$1" ] 2> /dev/null || \
     [ "$1" -lt 0 ] || \
     [ "$1" -gt 9 ] || \
     [ -z "$2" ];then
    echo "Usage: stan <level> <things to scan>"
    echo "Level go from 0 to 9 as of phpstan 1.8.2"
    return 1
  fi
  phpstan analyze --memory-limit=
    {{- if eq .chezmoi.hostname "LAPTOP-CB-ETI" -}}
      4g
    {{- else if eq .chezmoi.hostname "DESKTOP-ETIENNE" -}}
      8g
    {{- end }} --level="$1" "$2"
}

